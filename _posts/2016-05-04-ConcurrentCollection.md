---
layout: post
title:  线程安全的集合
date:   2016-05-04 16:52:56
categories: Java.Collection
expert: 关于Java多线程中集合的学习
---

* content
{:toc}

## 集合

按照数据结构的不同可以将集合分为多种, 同时按照线程安全性可以将集合分为两种.   

* 线程安全的集合, 采用加锁技术使得多线程访问不会破坏集合的属性, 以及造成数据污染.   

* 非线程安全的集合, 不提供数据访问的保护. 在多线程访问时可能出现集合属性被破坏(集合大小)或者数据污染问题.   

所以在使用多线程访问集合时, 我们会使用具有线程安全的集合或者使用具有加锁机制的非线程安全集合. 这篇文章讲述一些线程安全集合的应用.   

## 阻塞队列

*队列*采用先进先出的方式管理数据. 使用费阻塞队列时有个非常大的问题: 不会对当前访问线程产生阻塞, 如生产者-消费者模型中使用这类队列时就必须额外实现同步机制和唤醒机制. 但是在多线程进行合作时如果某个线程向一个已经满了的阻塞队列添加数据或者从一个已经为空的阻塞队列获取数据时, 将导致线程阻塞. 当阻塞队列当前状态满足被阻塞线程需求时, 线程会被自动唤醒不需要我们实现这部分代码.   

* 阻塞队列的方法:   

| 处理方式	| 抛出异常	| 返回特殊值	| 一直阻塞	| 超时退出	|    
| :------ | :----: | :--------: | :-----: | :------: |    
| 插入方法	| add(e)	| offer(e)	| put(e)	| offer(e, time, unit)	|   
| 移除方法	| remove()	| poll()	| take()	| poll(time, unit)	|   
| 检查方法	| element()	| peek()	| 不可用	| 不可用	|   

## 参考文献

* **[Java多线程理解：线程安全的集合对象](http://www.jianshu.com/p/eccb5f350c12)**   

* **[Java并发编程：阻塞队列](http://www.cnblogs.com/dolphin0520/p/3932906.html)**    

* **Java 核心技术卷II**
